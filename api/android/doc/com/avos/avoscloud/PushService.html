<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Wed Jan 14 15:34:45 CST 2015 -->
<meta http-equiv="Content-Type" content="text/html" charset="utf8">
<title>PushService (AVOS Cloud Android SDK)</title>
<meta name="date" content="2015-01-14">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PushService (AVOS Cloud Android SDK)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PushService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/avos/avoscloud/PushConnectionRetryController.html" title="class in com.avos.avoscloud"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/avos/avoscloud/RefreshCallback.html" title="class in com.avos.avoscloud"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/avos/avoscloud/PushService.html" target="_top">Frames</a></li>
<li><a href="PushService.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.avos.avoscloud</div>
<h2 title="Class PushService" class="title">Class PushService</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>Service</li>
<li>
<ul class="inheritance">
<li>com.avos.avoscloud.PushService</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">PushService</span>
extends Service</pre>
<div class="block"><p>
 A service to listen for push notifications. This operates in the same process as the parent
 application. To use this class, the PushService must be registered. Add this XML right before the
 </application> tag in your AndroidManifest.xml:
 </p>
 
 <pre>
    <service android:name="com.parse.PushService" />
    <receiver android:name="com.parse.AVBroadcastReceiver">
        <intent-filter>
            <action android:name="android.intent.action.BOOT_COMPLETED" />
            <action android:name="android.intent.action.USER_PRESENT" />
        </intent-filter>
    </receiver>
 </pre>
 <p>
 Next, you must ensure your app has the permissions needed to show a notification. Make sure that
 these permissions are present in your AndroidManifest.xml, typically immediately before the
 </manifest> tag:
 </p>
 
 <pre>
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />
    <uses-permission android:name="android.permission.VIBRATE" />
 </pre>
 <p>
 Once push notifications are configured in the manifest, you can subscribe to a push channel by
 calling
 </p>
 
 <pre>
 PushService.subscribe(context, &quot;the_channel_name&quot;, YourActivity.class);
 </pre>
 <p>
 When the client receives a push message, a notification will appear in the system tray. When the
 user taps the notification, they will enter the application through a new instance of
 YourActivity.
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../com/avos/avoscloud/PushService.html#PushService()">PushService</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/avos/avoscloud/PushService.html#isSessionOpen(java.lang.String)">isSessionOpen</a></strong>(java.lang.String&nbsp;sessionSelfId)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>IBinder</code></td>
<td class="colLast"><code><strong><a href="../../../com/avos/avoscloud/PushService.html#onBind(Intent)">onBind</a></strong>(Intent&nbsp;intent)</code>
<div class="block">onBind should not be called directly.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/avos/avoscloud/PushService.html#onCreate()">onCreate</a></strong>()</code>
<div class="block">Client code should not call onCreate directly.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/avos/avoscloud/PushService.html#onDestroy()">onDestroy</a></strong>()</code>
<div class="block">Client code should not call onDestroy directly.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/avos/avoscloud/PushService.html#onStartCommand(Intent, int, int)">onStartCommand</a></strong>(Intent&nbsp;intent,
              int&nbsp;flags,
              int&nbsp;startId)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/avos/avoscloud/PushService.html#onTaskRemoved(Intent)">onTaskRemoved</a></strong>(Intent&nbsp;rootIntent)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../com/avos/avoscloud/PushService.html#setDefaultPushCallback(android.content.Context, java.lang.Class)">setDefaultPushCallback</a></strong>(android.content.Context&nbsp;context,
                      java.lang.Class&lt;? extends android.app.Activity&gt;&nbsp;cls)</code>
<div class="block">Provides a default Activity class to handle pushes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../com/avos/avoscloud/PushService.html#setNotificationIcon(int)">setNotificationIcon</a></strong>(int&nbsp;icon)</code>
<div class="block">设置推送消息的Icon图标，如果没有设置，默认使用您配置里的应用图标。</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static void</code></td>
<td class="colLast"><code><strong><a href="../../../com/avos/avoscloud/PushService.html#setSignatureFactory(java.lang.String, com.avos.avoscloud.SignatureFactory)">setSignatureFactory</a></strong>(java.lang.String&nbsp;peerId,
                   <a href="../../../com/avos/avoscloud/SignatureFactory.html" title="interface in com.avos.avoscloud">SignatureFactory</a>&nbsp;factory)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../com/avos/avoscloud/PushService.html#subscribe(android.content.Context, java.lang.String, java.lang.Class)">subscribe</a></strong>(android.content.Context&nbsp;context,
         java.lang.String&nbsp;channel,
         java.lang.Class&lt;? extends android.app.Activity&gt;&nbsp;cls)</code>
<div class="block">Helper function to subscribe to push notifications with the default application icon.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../com/avos/avoscloud/PushService.html#unsubscribe(android.content.Context, java.lang.String)">unsubscribe</a></strong>(android.content.Context&nbsp;context,
           java.lang.String&nbsp;channel)</code>
<div class="block">Cancels a previous call to subscribe.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PushService()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PushService</h4>
<pre>public&nbsp;PushService()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="onCreate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onCreate</h4>
<pre>public&nbsp;void&nbsp;onCreate()</pre>
<div class="block">Client code should not call onCreate directly.</div>
</li>
</ul>
<a name="onStartCommand(Intent, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onStartCommand</h4>
<pre>public&nbsp;int&nbsp;onStartCommand(Intent&nbsp;intent,
                 int&nbsp;flags,
                 int&nbsp;startId)</pre>
</li>
</ul>
<a name="onDestroy()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onDestroy</h4>
<pre>public&nbsp;void&nbsp;onDestroy()</pre>
<div class="block">Client code should not call onDestroy directly.</div>
</li>
</ul>
<a name="onBind(Intent)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onBind</h4>
<pre>public&nbsp;IBinder&nbsp;onBind(Intent&nbsp;intent)</pre>
<div class="block">onBind should not be called directly.</div>
</li>
</ul>
<a name="subscribe(android.content.Context, java.lang.String, java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subscribe</h4>
<pre>public static&nbsp;void&nbsp;subscribe(android.content.Context&nbsp;context,
             java.lang.String&nbsp;channel,
             java.lang.Class&lt;? extends android.app.Activity&gt;&nbsp;cls)</pre>
<div class="block">Helper function to subscribe to push notifications with the default application icon.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - This is used to access local storage to cache the subscription, so it must
        currently be a viable context.</dd><dd><code>channel</code> - A string identifier that determines which messages will cause a push
        notification to be sent to this client. The channel name must start with a letter and
        contain only letters, numbers, dashes, and underscores.</dd><dd><code>cls</code> - This should be a subclass of Activity. An instance of this Activity is started when
        the user responds to this push notification. If you are not sure what to use here, just
        use your application's main Activity subclass.</dd></dl>
</li>
</ul>
<a name="setNotificationIcon(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNotificationIcon</h4>
<pre>public static&nbsp;void&nbsp;setNotificationIcon(int&nbsp;icon)</pre>
<div class="block">设置推送消息的Icon图标，如果没有设置，默认使用您配置里的应用图标。</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>icon</code> - A resource ID in the application's package of the drawble to use.</dd><dt><span class="strong">Since:</span></dt>
  <dd>1.4.4</dd></dl>
</li>
</ul>
<a name="setDefaultPushCallback(android.content.Context, java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDefaultPushCallback</h4>
<pre>public static&nbsp;void&nbsp;setDefaultPushCallback(android.content.Context&nbsp;context,
                          java.lang.Class&lt;? extends android.app.Activity&gt;&nbsp;cls)</pre>
<div class="block">Provides a default Activity class to handle pushes. Setting a default allows your program to
 handle pushes that aren't registered with a subscribe call. This can happen when your
 application changes its subscriptions directly through the AVInstallation or via push-to-query.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - This is used to access local storage to cache the subscription, so it must
        currently be a viable context.</dd><dd><code>cls</code> - This should be a subclass of Activity. An instance of this Activity is started when
        the user responds to this push notification. If you are not sure what to use here, just
        use your application's main Activity subclass.</dd></dl>
</li>
</ul>
<a name="unsubscribe(android.content.Context, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unsubscribe</h4>
<pre>public static&nbsp;void&nbsp;unsubscribe(android.content.Context&nbsp;context,
               java.lang.String&nbsp;channel)</pre>
<div class="block">Cancels a previous call to subscribe. If the user is not subscribed to this channel, this is a
 no-op. This call does not require internet access. It returns without blocking</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - A currently viable Context.</dd><dd><code>channel</code> - The string defining the channel to unsubscribe from.</dd></dl>
</li>
</ul>
<a name="setSignatureFactory(java.lang.String, com.avos.avoscloud.SignatureFactory)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSignatureFactory</h4>
<pre>protected static&nbsp;void&nbsp;setSignatureFactory(java.lang.String&nbsp;peerId,
                       <a href="../../../com/avos/avoscloud/SignatureFactory.html" title="interface in com.avos.avoscloud">SignatureFactory</a>&nbsp;factory)</pre>
</li>
</ul>
<a name="onTaskRemoved(Intent)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onTaskRemoved</h4>
<pre>public&nbsp;void&nbsp;onTaskRemoved(Intent&nbsp;rootIntent)</pre>
</li>
</ul>
<a name="isSessionOpen(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isSessionOpen</h4>
<pre>protected static&nbsp;boolean&nbsp;isSessionOpen(java.lang.String&nbsp;sessionSelfId)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PushService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/avos/avoscloud/PushConnectionRetryController.html" title="class in com.avos.avoscloud"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/avos/avoscloud/RefreshCallback.html" title="class in com.avos.avoscloud"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/avos/avoscloud/PushService.html" target="_top">Frames</a></li>
<li><a href="PushService.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><i>Copyright &#169; 2013 AVOS Systems Inc. All Rights Reserved.</i></small></p>
</body>
</html>
